(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{39:function(e,t,n){e.exports=n(77)},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"autoReadingIngredients",(function(){return z})),n.d(a,"registerEmpty",(function(){return G})),n.d(a,"loginEmpty",(function(){return H})),n.d(a,"register",(function(){return _})),n.d(a,"login",(function(){return K})),n.d(a,"logout",(function(){return B})),n.d(a,"autoLogin",(function(){return M})),n.d(a,"insertIngredient",(function(){return Y})),n.d(a,"insertIngredientAction",(function(){return J})),n.d(a,"deleteIngredient",(function(){return W})),n.d(a,"updateEnableIngredient",(function(){return q})),n.d(a,"changeUpdateIngredient",(function(){return Q})),n.d(a,"saveIngredientUpdated",(function(){return X})),n.d(a,"selectToken",(function(){return Z})),n.d(a,"selectIngredient",(function(){return $})),n.d(a,"selectErrorAuth",(function(){return ee})),n.d(a,"selectErrorReg",(function(){return te}));var r={};n.r(r),n.d(r,"autoReadingSales",(function(){return Ie})),n.d(r,"insertSalesCakeAction",(function(){return ye})),n.d(r,"changeInsertPrice",(function(){return Ce})),n.d(r,"insertCakeInSales",(function(){return Se})),n.d(r,"autoReadingSalesPrice",(function(){return Oe})),n.d(r,"autoReadingSalesHome",(function(){return je})),n.d(r,"setDisableInfo",(function(){return Ue})),n.d(r,"selectSale",(function(){return Ne}));var i=n(0),l=n.n(i),o=n(20),c=n.n(o),s=n(6),u=n(1),d=n(17),m=n(2),p=n(5),g=n.n(p),E=n(9);console.log("INGREDIENTSLICE");var f=Object(E.b)({name:"ingredientSlice",initialState:{ingredients:[],errors:void 0,insertIngredient:"",ingredientUpdate:[]},reducers:{setIngredient:function(e,t){var n=t.payload;e.ingredients=n.map((function(e){return{id:e._id,name:e.name,disable:!0,checked:!1}}))},setIngredientError:function(e,t){var n=t.payload;return Object(u.a)(Object(u.a)({},e),{},{errors:n})},setInsertIngredientAction:function(e,t){var n=t.payload;return Object(u.a)(Object(u.a)({},e),{},{insertIngredient:n})},setIngredientEmpty:function(e,t){var n=t.payload;return Object(u.a)(Object(u.a)({},e),{},{insertIngredient:n})},setIngredientUpdated:function(e,t){console.log("ACTION PAYLOAD",t.payload);var n=t.payload;e.ingredients.map((function(e){return e.name===n.ingredientUpdated.name&&(e.name=n.newValue,e.disable=!e.disable),e}))},setIngredientUpdateError:function(e,t){console.log("ACTION PAYLOAD DELETE",t.payload);var n=t.payload;e.ingredientUpdate.map((function(e){return e.id===n.id&&(e.errorUpdate=n.errorUpdate),e}))},setIngredientDisable:function(e,t){console.log("state in setingredientdisable",e.ingredientUpdate),console.log("SETINGREDIENTDISABLE",t);var n=t.payload;e.ingredients.map((function(t){return t.id===n&&(t.disable=!t.disable,!1===t.disable?e.ingredientUpdate.push({id:t.id}):e.ingredientUpdate=e.ingredientUpdate.filter((function(e){return e.id!==t.id}))),t}))},setIngredientDeleted:function(e,t){console.log("delete",t.payload);var n=t.payload.name;e.ingredients=e.ingredients.filter((function(e){return e.name!==n}))},setCheckIngredient:function(e,t){console.log("SETCHECKINGRE",t.payload);var n=t.payload;e.ingredients.map((function(e){return e.name===n.name&&(e.checked=n.checked),e}))},setCheckFalseIngredient:function(e,t){var n=t.payload;e.ingredients=e.ingredients.map((function(e){return!0===e.checked&&(e.checked=n),e}))},setIngredientUpdate:function(e,t){var n=t.payload;e.ingredientUpdate.map((function(e){e.id===n.ingredientUpdateId&&(e.newValue=n.newValue)}))},setIngredientUpdateEmpty:function(e,t){var n=t.payload;e.ingredientUpdate=e.ingredientUpdate.filter((function(e){return e.id!==n.ingredientUpdateId}))},setIngredientUpdateEmptyAuto:function(e,t){e.ingredientUpdate=[]}}}),k=f.actions.setIngredient,v=f.actions.setIngredientError,b=f.actions.setInsertIngredientAction,h=f.actions.setIngredientEmpty,I=f.actions.setIngredientUpdated,y=f.actions.setIngredientUpdateError,C=f.actions.setIngredientDisable,S=f.actions.setIngredientDeleted,O=f.actions.setCheckIngredient,j=f.actions.setCheckFalseIngredient,U=f.actions.setIngredientUpdate,N=f.actions.setIngredientUpdateEmpty,A=f.actions.setIngredientUpdateEmptyAuto,P=f.reducer;console.log("IN SLICE AUTH");var w=Object(E.b)({name:"authSlice",initialState:{token:void 0,errorsAuth:void 0,errorsReg:void 0},reducers:{setToken:function(e,t){var n=t.payload;return Object(u.a)(Object(u.a)({},e),{},{token:n})},setErrorAuth:function(e,t){var n=t.payload;return Object(u.a)(Object(u.a)({},e),{},{errorsAuth:n.error})},setErrorRegister:function(e,t){var n=t.payload;return Object(u.a)(Object(u.a)({},e),{},{errorsReg:n.error})},setErrorAuthEmpty:function(e,t){var n=t.payload;return Object(u.a)(Object(u.a)({},e),{},{errorsAuth:n.error})},setErrorRegisterEmpty:function(e,t){var n=t.payload;return Object(u.a)(Object(u.a)({},e),{},{errorsReg:n.error})}}}),R=w.actions,T=R.setToken,D=R.setErrorAuth,L=R.setErrorRegister,V=R.setErrorAuthEmpty,x=R.setErrorRegisterEmpty,F=w.reducer,z=function(){return function(e){console.log("IN AUTO READING INGREDIENTS");var t={"Content-type":"application/json",authorization:localStorage.getItem("token")};g.a.get("/api/ingredient",{headers:t}).then((function(t){console.log("IN SET INGREDIENT"),e(k(t.data.result)),e(D(void 0)),e(A())})).catch((function(t){return e(v(t.response.data))}))}},G=function(){return function(e){e(x({error:void 0}))}},H=function(){return function(e){e(V({error:void 0}))}},_=function(e,t){return function(n){g.a.post("/api/user",e).then((function(e){n(V({error:void 0})),n(x({error:void 0})),console.log("RES",e),t.push("/success")})).catch((function(e){console.log("ERROR",e.response),n(L(e.response.data))}))}},K=function(e,t){return function(n){g.a.post("/api/login",e).then((function(e){localStorage.setItem("token",e.data.token),n(T(e.data.token)),n(V({error:void 0})),n(x({error:void 0})),n(v(void 0)),t.push("/administrationpage")})).catch((function(e){console.log("errorrr",e.response.data),n(D(e.response.data))}))}},B=function(){return function(e){localStorage.removeItem("token"),e(T()),e(v(void 0)),e({type:"SET_SALESPRICE_INSERT_RESULT",payload:[]})}},M=function(){return function(e){if(localStorage.getItem("token")){var t={"Content-type":"application/json",authorization:localStorage.getItem("token")};g.a.get("/api/user",{headers:t}).then((function(){return e(T(localStorage.getItem("token")))})).catch((function(e){localStorage.removeItem("token")}))}}},Y=function(e){return function(t){if(""===e)return t(v({error:"Please insert an ingredient"}));var n={"Content-type":"application/json",authorization:localStorage.getItem("token")};g.a.post("/api/ingredient",{headers:n,body:e}).then((function(e){t(k(e.data.ingredients)),t(h("")),t(v(""))})).catch((function(e){return t(v(e.response.data))}))}},J=function(e){return function(t){t(b(e))}},W=function(e){return function(t){var n={"Content-type":"application/json",authorization:localStorage.getItem("token")};g.a.delete("/api/ingredient/".concat(e),{headers:n}).then((function(n){t(S({name:n.data.deletedIngredient.name})),t(N({ingredientUpdateId:e}))})).catch((function(n){console.log("error",n),t(y({error:n.response.data.error,id:e}))}))}},q=function(e){return function(t){t(C(e)),t(y({error:"",value:e}))}},Q=function(e,t){return function(n){n(U({ingredientUpdateId:t,newValue:e}))}},X=function(e,t){return function(n){console.log("NEWVALUE",t),t.map((function(t){if(t.id===e){if(console.log("INSIDE IF",e),void 0===t.newValue||""===t.newValue)return console.log("undefindeddddd",t.newValue),n(y({errorUpdate:"Please insert an ingredient to update",id:e}));console.log("inside else",t.newValue);var a={"Content-type":"application/json",authorization:localStorage.getItem("token")};g.a.put("/api/ingredient/".concat(e),{headers:a,body:t.newValue}).then((function(a){console.log("INSIED RESPONSE",a),n(I({ingredientUpdated:a.data.updatedIngredient,newValue:t.newValue})),n(N({ingredientUpdateId:e}))})).catch((function(t){return console.log("IN CATCH"),n(y({errorUpdate:t.response.data.error,id:e}))}))}return t}))}},Z=function(e){return e.auth.token},$=function(e){return e.ingredient},ee=function(e){return e.auth.errorsAuth},te=function(e){return e.auth.errorsReg};var ne=Object(m.b)(null,a)((function(e){var t=Object(m.c)(),n=Object(m.d)(ee);Object(i.useEffect)((function(){t(H())}),[]);var a=Object(i.useState)({email:"",password:""}),r=Object(d.a)(a,2),o=r[0],c=r[1];function p(e){c(Object(u.a)(Object(u.a)({},o),{},Object(s.a)({},e.target.name,e.target.value)))}return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:function(n){n.preventDefault(),t(K(o,e.history))}},l.a.createElement("h1",null,"Login"),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Email address"),l.a.createElement("input",{type:"email",className:"form-control",name:"email",placeholder:"Email",value:o.email,onChange:p})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Password"),l.a.createElement("input",{type:"password",className:"form-control",name:"password",placeholder:"Password",value:o.password,onChange:p})),l.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")),l.a.createElement("div",null,l.a.createElement("p",null,n||null)))})),ae=n(4);var re=function(){return l.a.createElement("div",null,l.a.createElement("h3",null,"Your registration is ok, please click above on login button in order to login with your user"))};var ie=Object(ae.g)((function(e){var t=Object(m.c)(),n=Object(m.d)(te);Object(i.useEffect)((function(){t(G())}),[]);var a=Object(i.useState)({email:"",password:""}),r=Object(d.a)(a,2),o=r[0],c=r[1];function p(e){c(Object(u.a)(Object(u.a)({},o),{},Object(s.a)({},e.target.name,e.target.value)))}return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:function(n){n.preventDefault(),t(_(o,e.history))}},l.a.createElement("h1",null,"Registrati"),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Email address"),l.a.createElement("input",{type:"email",className:"form-control",name:"email",placeholder:"Email",value:o.email,onChange:p})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Password"),l.a.createElement("input",{type:"password",className:"form-control",name:"password",placeholder:"Password",value:o.password,onChange:p})),l.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")),l.a.createElement("div",null,l.a.createElement("p",null,n||null)))}));console.log("HOMESLICE");var le=Object(E.b)({name:"homeSlice",initialState:{home:[]},reducers:{setHomeSales:function(e,t){var n=t.payload;return Object(u.a)(Object(u.a)({},e),{},{home:n.map((function(e){return{cakeId:e.cakeId,first:e.first,second:e.second,third:e.third,listcakes:e.listcakes,pubblicationDate:e.pubblicationDate,disableInfo:!1}}))})}}}),oe=le.actions.setHomeSales,ce=le.reducer,se=Object(E.b)({name:"saleSlice",initialState:{sales:[],salesPriceElement:[],errors:void 0,insertSales:[],resultInsert:[]},reducers:{setSalesCake:function(e,t){var n=t.payload;e.sales=n.map((function(e){return{id:e._id,name:e.name,imgLink:e.imgLink,enableSetPrice:!1}}))},setErrorSales:function(e,t){var n=t.payload;return Object(u.a)(Object(u.a)({},e),{},{errors:n})},setSalesPriceElement:function(e,t){var n=t.payload;e.salesPriceElement=n},setSalesCakePriceEnable:function(e,t){var n=t.payload;n.checked?e.sales.map((function(t){return n.id===t.id&&(t.enableSetPrice=!t.enableSetPrice,e.insertSales.push({id:t.id})),t})):e.sales=e.sales.map((function(t){return t.id===n.id&&(t.enableSetPrice=!t.enableSetPrice,e.insertSales=e.insertSales.filter((function(e){return e.id!==n.id}))),t}))},setSalesCakePrice:function(e,t){var n=t.payload;e.insertSales.forEach((function(e){return e.id===n.id&&(e[n.name]=n.value),e}))},setSalesCakeElementError:function(e,t){var n=t.payload;e.insertSales.forEach((function(e){return n.arrId.forEach((function(t){return e.id===t&&(e.errorFirstPrice=n.errorFirstPrice),t})),e}))},setSalesPriceInsertResult:function(e,t){e.resultInsert=[];var n=t.payload;console.log("sales response",n),n.forEach((function(t){e.resultInsert.push(t.name)}))},setInsertSalesEmpty:function(e,t){e.insertSales=[]},setResultInsertEmpty:function(e,t){e.resultInsert=[]},setCheckFalseCake:function(e,t){e.sales.forEach((function(e){return e.enableSetPrice&&(e.enableSetPrice=!1),e}))}}}),ue=se.actions.setSalesCake,de=se.actions.setErrorSales,me=se.actions.setSalesPriceElement,pe=se.actions.setSalesCakePriceEnable,ge=se.actions.setSalesCakePrice,Ee=se.actions.setSalesCakeElementError,fe=se.actions.setSalesPriceInsertResult,ke=se.actions.setInsertSalesEmpty,ve=se.actions.setCheckFalseCake,be=se.actions.setResultInsertEmpty,he=se.reducer,Ie=function(){return function(e){var t={"Content-type":"application/json",authorization:localStorage.getItem("token")};g.a.get("/api/cake",{headers:t}).then((function(t){console.log("in response sales",t),e(ue(t.data.result)),e(ke()),e(be()),e(de({error:""}))})).catch((function(t){console.log("IN CATCH"),e(de(t.response.data.result))}))}},ye=function(e,t,n){return function(a){console.log("value data"),a(ge({id:e,name:n,value:t}))}},Ce=function(e,t){return function(n){console.log("VALUE INSERT",e),n(pe({checked:e,id:t}))}},Se=function(e){return function(t){console.log("INSERTSALES",e);var n=[];if(e.map((function(e){return console.log("vali in map",e),void 0!==e.first&&""!==e.first||(console.log("INSIDE IF SALES",e.first),n.push(e.id)),e})),void 0!==n[0])return console.log("ARR",n),t(Ee({arrId:n,errorFirstPrice:"You have to insert at least a first price"}));console.log("OUT OF IF STATEMENT");var a={"Content-type":"application/json",authorization:localStorage.getItem("token")};g.a.post("/api/salespricelist",{headers:a,body:e}).then((function(e){console.log("RESPOSNE RESULT SALESPRICE ELEMENT",e),t(fe(e.data.result)),t(me(e.data.sales)),t(ve(!1)),t(ke())})).catch((function(e){return console.log("error sales",e.response)}))}},Oe=function(){return function(e){var t={"Content-type":"application/json",authorization:localStorage.getItem("token")};g.a.get("/api/salespricelist",{headers:t}).then((function(t){console.log("response sales price",t.data.sales),e(me(t.data.sales))})).catch((function(e){return console.log("ERROR RESOPNSE",e)}))}},je=function(){return function(e){console.log("AUTOREADINGSALES HOME"),g.a.get("/reading/saleshome").then((function(t){return e(oe(t.data.sales))}))}},Ue=function(e){return function(t){t({type:"SET_SALESINFO_DISABLE",payload:e})}},Ne=function(e){return e.sale};n(66);var Ae=Object(m.b)(null,r)((function(e){var t=Object(m.d)((function(e){return e.home.home}));return console.log("HOME",t),Object(i.useEffect)((function(){e.autoReadingSalesHome()}),[]),l.a.createElement("div",null,l.a.createElement("h1",null,"This is home"),l.a.createElement("div",null,t.map((function(t){return l.a.createElement("div",{className:"element-sales",key:t.cakeId},l.a.createElement("img",{src:t.listcakes[0].imgLink,width:"150",height:"150",alt:t.listcakes[0].name,onClick:function(t){return function(t){console.log(t.target.alt),e.setDisableInfo(t.target.alt)}(t)}}),l.a.createElement("br",null),l.a.createElement("span",{className:"elem-name"},l.a.createElement("b",null,t.listcakes[0].name)),l.a.createElement("span",{className:"elem-weight"},t.listcakes[0].weight),l.a.createElement("br",null),t.disableInfo?l.a.createElement("div",null,l.a.createElement("ul",null,l.a.createElement("li",{key:t.first},t.first," Euro"),l.a.createElement("li",{key:t.second},t.second," Euro"),l.a.createElement("li",{key:t.third},t.third," Euro")),l.a.createElement("span",null,"Ingredients"),l.a.createElement("ul",null,t.listcakes[0].ingredients.map((function(e){return l.a.createElement("li",{key:e},e)})))):null)}))))}));var Pe=function(){return console.log("PUBLICROUTE"),l.a.createElement("div",null,l.a.createElement(ae.d,null,l.a.createElement(ae.b,{exact:!0,path:"/",component:Ae}),l.a.createElement(ae.b,{exact:!0,path:"/register",component:ie}),l.a.createElement(ae.b,{exact:!0,path:"/login",component:ne}),l.a.createElement(ae.b,{exact:!0,path:"/success",component:re}),l.a.createElement(ae.a,{from:"*",to:"/"})))};n(67);var we=function(e){return l.a.createElement("div",null,e.cakes.map((function(t){return l.a.createElement("div",{className:"elem-cake",key:t.id},t.disable?l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{type:"checkbox",name:t.name}),l.a.createElement("label",{className:"cake"},l.a.createElement("b",null,t.name))):e.cakeUpdate.map((function(n){if(n.id===t.id)return l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{value:n.newValue,type:"text",id:t.id,onChange:e.changeUpdateCakeAction}),l.a.createElement("button",{id:t.id,onClick:e.saveUpdateCakeAction},"Save"),l.a.createElement("div",null,l.a.createElement("p",null,n.errorsUpdate?n.errorsUpdate:null)))})),l.a.createElement("button",{id:t.id,className:"delete-button",onClick:e.deleteEvent},"Delete"),l.a.createElement("button",{id:t.id,className:"update-button",onClick:e.updateEvent},"Update"))})))},Re=n(15),Te=Object(E.b)({name:"cakeSlice",initialState:{cakes:[],insertCake:{name:"",weight:"",imgLink:"",ingredients:[]},cakeUpdate:[],errors:void 0},reducers:{setCake:function(e,t){var n=t.payload;return Object(u.a)(Object(u.a)({},e),{},{cakes:n.map((function(e){return{id:e._id,name:e.name,imgLink:e.imgLink,disable:!0}}))})},setCakeInsert:function(e,t){console.log("action",t.payload);var n=t.payload;return Object(u.a)(Object(u.a)({},e),{},{insertCake:Object(u.a)(Object(u.a)({},e.insertCake),{},Object(s.a)({},n.name,n.value))})},setCakeIngredient:function(e,t){console.log("SETCAKEINGREDIENT",t.payload);var n=t.payload;return Object(u.a)(Object(u.a)({},e),{},{insertCake:n.checked?Object(u.a)(Object(u.a)({},e.insertCake),{},{ingredients:[].concat(Object(Re.a)(e.insertCake.ingredients),[n.name])}):Object(u.a)(Object(u.a)({},e.insertCake),{},{ingredients:e.insertCake.ingredients.filter((function(e){return e!==n.name}))})})},setCakeError:function(e,t){var n=t.payload;return Object(u.a)(Object(u.a)({},e),{},{errors:n.error})},setCakeEmpty:function(e,t){var n=t.payload;e.insertCake={name:n.cakeInfo,weight:n.cakeInfo,imgLink:n.cakeInfo,ingredients:[]}},setCakeDeleted:function(e,t){var n=t.payload;return Object(u.a)(Object(u.a)({},e),{},{cakes:e.cakes.filter((function(e){return e.name!==n}))})},setCakeDisable:function(e,t){var n=t.payload;console.log("cakedisabl",n),e.cakes.map((function(t){return t.id===n&&(t.disable=!t.disable,!1===t.disable?(console.log("CAKE ID",t.id),e.cakeUpdate.push({id:t.id})):(console.log("state cakeupdate",e),e.cakeUpdate=e.cakeUpdate.filter((function(e){return e.id!==t.id})))),t}))},setCakeUpdate:function(e,t){console.log("SETCAKEUPDATE",t.payload);var n=t.payload;e.cakeUpdate.map((function(e){return e.id===n.cakeUpdateId&&(e.newValue=n.newValue),e}))},setCakeUpdatedError:function(e,t){var n=t.payload;e.cakeUpdate.map((function(e){return e.id===n.id&&(e.errorsUpdate=n.error),e}))},setCakeUpdated:function(e,t){var n=t.payload;console.log("SETCAKE UPDATED",n),e.cakes.map((function(e){return e.name===n.updatedCake&&(e.name=n.newValue,e.disable=!e.disable),e}))},setCakeUpdateEmpty:function(e,t){console.log("state cakeupdateempty",e),console.log("action empty",t.payload);var n=t.payload;e.cakeUpdate=e.cakeUpdate.filter((function(e){return e.id!==n.cakeUpdateId}))},setCakeUpdateEmptyAuto:function(e,t){e.cakeUpdate=[]}}}),De=Te.actions.setCake,Le=Te.actions.setCakeInsert,Ve=Te.actions.setCakeIngredient,xe=Te.actions.setCakeError,Fe=Te.actions.setCakeEmpty,ze=Te.actions.setCakeDeleted,Ge=Te.actions.setCakeDisable,He=Te.actions.setCakeUpdate,_e=Te.actions.setCakeUpdatedError,Ke=Te.actions.setCakeUpdated,Be=Te.actions.setCakeUpdateEmpty,Me=Te.actions.setCakeUpdateEmptyAuto,Ye=Te.reducer,Je=function(e){return e.cake};n(68);var We=function(e){return l.a.createElement("div",null,e.ingredients.map((function(t){return l.a.createElement("div",{className:"elem-ingredient",key:t.name},l.a.createElement("input",{type:"checkbox",checked:t.checked,name:t.name,onChange:e.insertIngredientCakeAction}),l.a.createElement("label",null,l.a.createElement("b",null,t.name)))})))};n(69);var qe=function(){var e=Object(m.c)(),t=Object(m.d)(Je),n=Object(m.d)($);function a(t){var n;e((n=t.target,function(e){console.log(n.name),e(Le({name:n.name,value:n.value}))}))}return Object(i.useEffect)((function(){e((function(e){console.log("AUTOREADINGCAKES");var t=z();e(t);var n={"Content-type":"application/json",authorization:localStorage.getItem("token")};g.a.get("/api/cake",{headers:n}).then((function(t){e(De(t.data.result)),e(Me())})).catch((function(e){return console.log("ERROR",e.response.data)}))}))}),[]),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(){var n;e((n=t.insertCake,function(e){if(console.log("insert cake",n),""===n.name||""===n.weight||""===n.imgLink)return e(xe({error:"Please fill all fields"}));if(0===n.ingredients.length)return e(xe({error:"Please insert at least one ingredient"}));var t={"Content-type":"application/json",authorization:localStorage.getItem("token")};g.a.post("/api/cake",{headers:t,body:n}).then((function(t){console.log("RESPONSE CAKE",t),e(De(t.data.result)),e(Fe({cakeInfo:""})),e(xe({error:""})),e(j(!1))})).catch((function(t){return e(xe(t.response.data.result))}))}))}},"Insert Cake"),l.a.createElement("input",{type:"text",value:t.insertCake.name,onChange:a,name:"name",placeholder:"Name cake"}),l.a.createElement("input",{type:"text",value:t.insertCake.weight,onChange:a,name:"weight",placeholder:"weight"}),l.a.createElement("input",{type:"text",value:t.insertCake.imgLink,onChange:a,name:"imgLink",placeholder:"imglink"}),l.a.createElement("div",null,l.a.createElement("p",null,t.errors?t.errors:null)),l.a.createElement("div",{className:"component-ingredientList"},l.a.createElement(We,{ingredients:n.ingredients,insertIngredientCakeAction:function(t){var n,a;e((n=t.target.name,a=t.target.checked,function(e){var t={name:n,checked:a};e(Ve(t)),e(O(t))}))}})),l.a.createElement("div",{className:"component-cakeList"},l.a.createElement(we,{cakes:t.cakes,cakeUpdate:t.cakeUpdate,deleteEvent:function(t){var n;e((n=t.target.id,function(e){console.log("id",n);var t={"Content-type":"application/json",authorization:localStorage.getItem("token")};g.a.delete("/api/cake/".concat(n),{headers:t}).then((function(t){console.log("response after deleted",t),e(ze(t.data.deletedCake))})).catch((function(e){return console.log(e.response)}))}))},updateEvent:function(t){var n;e((n=t.target.id,function(e){e(Ge(n))}))},changeUpdateCakeAction:function(t){var n,a;e((n=t.target.value,a=t.target.id,function(e){console.log("VALUE",n),console.log("ID",a),e(He({cakeUpdateId:a,newValue:n}))}))},saveUpdateCakeAction:function(n){e(function(e,t){return function(n){t.map((function(t){if(t.id===e){if(console.log("new valeu before",t.newValue),void 0===t.newValue||""===t.newValue)return console.log("new value undefined",t.newValue),n(_e({error:"You have to insert at least one letter",id:e}));var a={"Content-type":"application/json",authorization:localStorage.getItem("token")};g.a.put("/api/cake/".concat(e),{headers:a,body:t.newValue}).then((function(a){console.log("RESPONSE",a),n(Ke({updatedCake:a.data.updatedCake,newValue:t.newValue})),n(Be({cakeUpdateId:e}))})).catch((function(e){return n(_e({error:e.response.data.error}))}))}}))}}(n.target.id,t.cakeUpdate))},errorsUpdate:t.errorsUpdate})))};n(70);var Qe=function(e){return l.a.createElement("div",null,e.ingredients.map((function(t){return l.a.createElement("div",{key:t.name},t.disable?l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{type:"checkbox",name:t.name,onClick:e.changeData}),l.a.createElement("label",{className:"ingredient"},l.a.createElement("b",null,t.name))):e.ingredientUpdate.map((function(n){if(n.id===t.id)return l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{value:n.newValue,id:t.id,type:"text",name:t.name,onChange:e.changeUpdateIngredientAction}),l.a.createElement("button",{id:t.id,onClick:e.saveIngredient},"Save"),l.a.createElement("div",null,l.a.createElement("p",null,n.errorUpdate)))})),l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{id:t.id,className:"delete-button",onClick:e.deleteEvent},"Delete"),l.a.createElement("button",{id:t.id,className:"update-button",onClick:e.updateEvent},"Update")))})))};var Xe=Object(m.b)(null,a)((function(){var e=Object(m.c)(),t=Object(m.d)($);return console.log("INGREDIENTS",t),Object(i.useEffect)((function(){e(z())}),[]),l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("input",{type:"text",value:t.insertIngredient,placeholder:"ingredient",name:"ingredient",onChange:function(t){e(J(t.target.value))}}),l.a.createElement("button",{onClick:function(){e(Y(t.insertIngredient))}},"Insert Ingredient")),l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("b",null,t.errors?t.errors.error:null))),l.a.createElement("div",null,l.a.createElement(Qe,{ingredients:t.ingredients,deleteEvent:function(t){e(W(t.target.id))},updateEvent:function(t){e(q(t.target.id))},changeUpdateIngredientAction:function(t){console.log(t.target.value),e(Q(t.target.value,t.target.id))},ingredientUpdate:t.ingredientUpdate,saveIngredient:function(n){e(X(n.target.id,t.ingredientUpdate))}})))}));var Ze=function(e){return l.a.createElement("div",null,e.saleCake.map((function(t){return l.a.createElement("div",{key:t.name},l.a.createElement("input",{id:t.id,type:"checkbox",name:t.name,checked:t.enableSetPrice,onChange:e.changeInsertPrice}),l.a.createElement("label",null,l.a.createElement("b",null,t.name)),t.enableSetPrice?e.insertSales.map((function(n){if(n.id===t.id)return l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{value:n.first,id:t.id,name:"first",type:"text",onChange:e.changePrice}),"First choice",l.a.createElement("input",{value:n.second,id:t.id,name:"second",type:"text",onChange:e.changePrice}),"Second choice",l.a.createElement("input",{value:n.third,id:t.id,name:"third",type:"text",onChange:e.changePrice}),"Third choice",l.a.createElement("div",{key:n.name},l.a.createElement("p",null,n.errorFirstPrice)))})):null)})),0!==e.resultInsert.length?e.resultInsert.map((function(e){return l.a.createElement("div",{key:e},l.a.createElement("p",null,"You have inserted ",e))})):null)};n(71);var $e=function(e){return l.a.createElement("div",null,l.a.createElement("h3",null,"This is a sales list"),e.salesPriceElement.map((function(e){return l.a.createElement("div",{className:"element-info",key:e.cakeId},l.a.createElement("img",{src:e.listcakes[0].imgLink,width:"50",height:"50"}),l.a.createElement("p",null,l.a.createElement("b",null,e.listcakes[0].name)),l.a.createElement("p",{className:"element-price"},e.first),l.a.createElement("p",{className:"element-type"},"Euro"),l.a.createElement("br",null),l.a.createElement("p",{className:"element-price"},e.second),l.a.createElement("p",{className:"element-type"},"Euro"),l.a.createElement("br",null),l.a.createElement("p",{className:"element-price"},e.third),l.a.createElement("p",{className:"element-type"},"Euro"),l.a.createElement("br",null),l.a.createElement("p",{className:"element-pubblication"},l.a.createElement("b",null,"Pubblication date")),l.a.createElement("span",null,e.pubblication_date),l.a.createElement("br",null),l.a.createElement("button",null,"Update"),l.a.createElement("button",null,"Delete"))})))};var et=Object(m.b)(null,r)((function(e){var t=Object(m.c)(),n=Object(m.d)(Ne());return console.log("STATE IN SALESBUTTON",n),Object(i.useEffect)((function(){console.log("inside use effect"),t(Ie()),t(Oe())}),[]),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(){t(Se(n.insertSales))}},"Insert Cake in Sales"),l.a.createElement("div",null,l.a.createElement(Ze,{insertSales:n.insertSales,resultInsert:n.resultInsert,saleCake:n.sales,changePrice:function(e){t(ye(e.target.id,e.target.value,e.target.name))},changeInsertPrice:function(e){t(Ce(e.target.checked,e.target.id))}})),l.a.createElement("div",null,l.a.createElement($e,{salesPriceElement:n.salesPriceElement})))}));var tt=function(){var e=Object(i.useState)({cake:!1,ingredient:!1,sell:!1}),t=Object(d.a)(e,2),n=t[0],a=t[1];function r(e){console.log("E TARGET NAME",n[e.target.name]),a(Object(s.a)({cake:!1,ingredient:!1,sell:!1},e.target.name,!n[e.target.name]))}return l.a.createElement("div",null,l.a.createElement("h4",null,"Buttons"),l.a.createElement("button",{name:"ingredient",onClick:r},"Ingredient field"),l.a.createElement("button",{name:"cake",onClick:r},"Cake field"),l.a.createElement("button",{name:"sell",onClick:r},"Sales Cake field"),l.a.createElement("div",null,n.cake?l.a.createElement(qe,null):n.ingredient?l.a.createElement(Xe,null):n.sell?l.a.createElement(et,null):void 0))};var nt=function(){return l.a.createElement("div",null,l.a.createElement("h3",null,"Welcome on Administration Page, here you can add the ingredients that you use with your cakes"),l.a.createElement("h6",null,"Please follow these steps in order to add your cake"),l.a.createElement("ul",null,l.a.createElement("li",null,"Create your ingredients if they don't appear in the list"),l.a.createElement("li",null,"Create your cake with your ingredients"),l.a.createElement("li",null,"Sell your cake with prices in first second and third choice")),l.a.createElement(tt,null))};var at=function(){return l.a.createElement("div",null,l.a.createElement(ae.b,{exact:!0,path:"/administrationpage",component:nt}),l.a.createElement(ae.a,{from:"*",to:"/administrationpage"}))},rt=n(14);var it=Object(m.b)(null,null)((function(e){return console.log(e),l.a.createElement("div",null,function(){switch(e.token){case void 0:return l.a.createElement("div",null,l.a.createElement("ul",{className:"nav"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(rt.b,{activeClassName:"text-info",to:"/login",className:"nav-link"},"Login")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(rt.b,{activeClassName:"text-info",to:"/register",className:"nav-link"},"Register"))));default:return l.a.createElement("div",null,l.a.createElement("ul",{className:"nav"},l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link active",onClick:e.logout},"Logout"))))}}())}));var lt=function(e){var t=Object(m.c)(),n=Object(m.d)(Z);return Object(i.useEffect)((function(){t(M())}),[]),l.a.createElement("div",null,l.a.createElement(rt.a,null,l.a.createElement(it,{logout:function(){return t(B())},token:n}),n?l.a.createElement(ae.b,{path:"/",component:at}):l.a.createElement(ae.b,{path:"/",component:Pe})))},ot=(n(72),n(75),n(23),n(76),Object(E.a)({reducer:{ingredient:P,auth:F,home:ce,cake:Ye,sale:he}}));c.a.render(l.a.createElement(m.a,{store:ot},l.a.createElement(lt,null)),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.d220a2e0.chunk.js.map